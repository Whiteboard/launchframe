{#
	@name Block: Video
	@desc The standalone video player block.
#}

<section
    x-data
    x-title="Block: Video"
    x-ref="container"
    class="
        fluid-container grid grid-cols-12
        {% include "snippets/no_block_spacing.twig" %}
    "
>
        <div
            class="
                {% if blockset.size == "lg" %}
                    col-span-12
                {% elseif blockset.size == "sm" %}
                    size-lg
                {% else %}
                    size-xl
                {% endif %}
            "
        >

            {% if blockset.title %}
                <div class="relative flex justify-center mb-10 w-full text-center">
                    {% include "typography/h2.twig" with {
                        content: blockset.title,
                        attribute: "
                            x-data='words()'
                            x-init='mounted()'
                            x-ref='element'
                        ",
                    } %}
                </div>
            {% endif %}

            {% for video in blockset.videos %}
                <div
                    x-data="fadeIn()"
                    x-init="
                        delay = $store.animationDelay + 0.15;
                        mounted();
                    "
                    x-ref="element"
                    class="relative w-full"
                >

                    {% include "components/video_player.twig" with {
                        autoplay: true,
                        source: video.source,
                        video: video.video,
                        poster: video.poster,
                        youtube: video.youtube,
                        vimeo: video.vimeo,
                    } %}

                </div>
            {% endfor %}

        </div>
</section>
